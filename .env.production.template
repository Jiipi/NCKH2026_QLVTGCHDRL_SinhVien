# ===================================================================# ===========================================

# PRODUCTION ENVIRONMENT VARIABLES# TEMPLATE FILE - Sao chép thành .env.production và điền thông tin thực

# Domain: hoatdongrenluyen.io.vn# ===========================================

# ===================================================================

# # Database

# HƯỚNG DẪN:DATABASE_URL="postgresql://hoatdongrenluyen:YOUR_STRONG_PASSWORD@db:5432/hoatdongrenluyen_db?schema=public"

# 1. Copy file này thành .env trên server EC2

# 2. Thay đổi TẤT CẢ các giá trị mặc định# PostgreSQL Credentials

# 3. Đặc biệt chú ý: DB_PASSWORD, JWT_SECRET, SESSION_SECRETPOSTGRES_USER=hoatdongrenluyen

# 4. Không commit file .env lên Git!POSTGRES_PASSWORD=YOUR_STRONG_PASSWORD

#POSTGRES_DB=hoatdongrenluyen_db

# ===================================================================

# Application

# ==================== NODE ENVIRONMENT ====================NODE_ENV=production

NODE_ENV=productionPORT=5000

FRONTEND_URL=https://hoatdongrenluyen.io.vn

# ==================== DATABASE CONFIGURATION ====================BACKEND_URL=https://hoatdongrenluyen.io.vn/api

DB_NAME=Web_QuanLyDiemRenLuyen

DB_USER=admin# Security

DB_PASSWORD=CHANGE_THIS_SECURE_PASSWORD_123!@#JWT_SECRET=YOUR_VERY_LONG_RANDOM_SECRET_KEY_HERE

SESSION_SECRET=YOUR_ANOTHER_LONG_RANDOM_SECRET_KEY

# PostgreSQL connection string

# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE?schema=public# GitHub Webhook (cho tự động deploy)

DATABASE_URL=postgresql://admin:CHANGE_THIS_SECURE_PASSWORD_123!@#@db:5432/Web_QuanLyDiemRenLuyen?schema=publicWEBHOOK_SECRET=YOUR_WEBHOOK_SECRET_HERE



# ==================== BACKEND API ====================# Email (nếu cần gửi thông báo)

PORT=3001SMTP_HOST=smtp.gmail.com

SMTP_PORT=587

# ==================== JWT CONFIGURATION ====================SMTP_USER=your-email@gmail.com

# Generate với: openssl rand -base64 32SMTP_PASS=your-app-password

JWT_SECRET=CHANGE_THIS_JWT_SECRET_MIN_32_CHARS_aB3dE5fG7hI9jK1lM3nO5pQ7rS9tU

JWT_EXPIRES_IN=7d# Upload limits

JWT_REFRESH_EXPIRES_IN=30dMAX_FILE_SIZE=10485760



# ==================== SESSION ====================# CORS

# Generate với: openssl rand -hex 32ALLOWED_ORIGINS=https://hoatdongrenluyen.io.vn

SESSION_SECRET=CHANGE_THIS_SESSION_SECRET_64_CHARS_a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6

# Prisma

# ==================== CORS CONFIGURATION ====================PRISMA_CLI_BINARY_TARGETS=linux-musl

# Domains được phép truy cập API (phân cách bằng dấu phẩy)

CORS_ORIGIN=https://hoatdongrenluyen.io.vn,https://www.hoatdongrenluyen.io.vn# ===========================================

# HƯỚNG DẪN TẠO MẬT KHẨU MẠNH:

# ==================== FRONTEND CONFIGURATION ====================# ===========================================

# URL của backend API cho frontend# 1. JWT_SECRET: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"

REACT_APP_API_URL=https://hoatdongrenluyen.io.vn/api# 2. SESSION_SECRET: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"

# 3. POSTGRES_PASSWORD: node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"

# ==================== FILE UPLOAD ====================# 4. WEBHOOK_SECRET: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"

# Max file size in bytes (10MB = 10485760)
MAX_FILE_SIZE=10485760
UPLOAD_DIR=/app/backend/uploads

# ==================== LOGGING ====================
# Log levels: error, warn, info, http, debug
LOG_LEVEL=info
LOG_DIR=/app/backend/logs

# ==================== RATE LIMITING ====================
# Time window in milliseconds (15 minutes = 900000)
RATE_LIMIT_WINDOW_MS=900000
# Max requests per window
RATE_LIMIT_MAX_REQUESTS=100

# ==================== PAGINATION ====================
DEFAULT_PAGE_SIZE=20
MAX_PAGE_SIZE=100

# ==================== EMAIL CONFIGURATION (Optional) ====================
# Nếu dùng Gmail App Password: https://myaccount.google.com/apppasswords
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-specific-password
EMAIL_FROM=noreply@hoatdongrenluyen.io.vn

# ==================== DOCKER IMAGE TAGS ====================
IMAGE_TAG=latest

# ==================== BACKUP ====================
BACKUP_SCHEDULE="0 2 * * *"
BACKUP_RETENTION_DAYS=7

# ===================================================================
# CÁC LỆNH GENERATE SECRETS:
# ===================================================================
#
# Generate JWT_SECRET (32 characters):
#   openssl rand -base64 32
#
# Generate SESSION_SECRET (64 hex characters):
#   openssl rand -hex 32
#
# Generate random password (16 characters):
#   openssl rand -base64 16
#
# ===================================================================
