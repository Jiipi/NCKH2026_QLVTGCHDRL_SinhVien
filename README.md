# ðŸŽ“ Há»† THá»NG QUáº¢N LÃ HOáº T Äá»˜NG RÃˆN LUYá»†N

> **Web Application quáº£n lÃ½ Ä‘iá»ƒm rÃ¨n luyá»‡n sinh viÃªn**  
> Domain: [hoatdongrenluyen.io.vn](https://hoatdongrenluyen.io.vn)

---

## ðŸš€ QUICK START

```bash
# 1. Clone repository
git clone https://github.com/Jiipi/QL_DH_RenLuyen.git
cd QL_DH_RenLuyen

# 2. Deploy (ONE COMMAND!)
chmod +x scripts/deploy.sh
./scripts/deploy.sh
```

**Website sáº½ cháº¡y á»Ÿ**: `http://localhost:3000`

---

## ðŸ“‹ YÃŠU Cáº¦U Há»† THá»NG

- **Docker** 24.x trá»Ÿ lÃªn
- **Docker Compose** v2.x trá»Ÿ lÃªn
- **OS**: Ubuntu 20.04+, Amazon Linux 2023, hoáº·c Windows vá»›i WSL2
- **RAM**: Tá»‘i thiá»ƒu 4GB (Khuyáº¿n nghá»‹ 8GB)
- **Disk**: 20GB trá»‘ng

---

## ðŸ—ï¸ KIáº¾N TRÃšC Há»† THá»NG

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Nginx Reverse Proxy                  â”‚
â”‚              (SSL, Load Balancing, Caching)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Frontend     â”‚                 â”‚    Backend     â”‚
â”‚  (React + MUI) â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  (Node.js +    â”‚
â”‚   Nginx:80     â”‚    REST API     â”‚   Express)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                                            â”‚
                                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                  â”‚   PostgreSQL 15   â”‚
                                  â”‚   (Database)      â”‚
                                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸŽ¯ TÃNH NÄ‚NG CHÃNH

### ðŸ‘¨â€ðŸŽ“ Sinh ViÃªn
- âœ… ÄÄƒng kÃ½ hoáº¡t Ä‘á»™ng rÃ¨n luyá»‡n
- âœ… Theo dÃµi Ä‘iá»ƒm tÃ­ch lÅ©y theo ká»³
- âœ… Xem lá»‹ch sá»­ tham gia hoáº¡t Ä‘á»™ng
- âœ… Upload minh chá»©ng tham gia
- âœ… Xuáº¥t PDF báº£ng Ä‘iá»ƒm

### ðŸ‘¨â€ðŸ« Giáº£ng ViÃªn
- âœ… Táº¡o vÃ  quáº£n lÃ½ hoáº¡t Ä‘á»™ng
- âœ… Duyá»‡t Ä‘Äƒng kÃ½ sinh viÃªn
- âœ… Äiá»ƒm danh vÃ  cháº¥m Ä‘iá»ƒm
- âœ… Thá»‘ng kÃª bÃ¡o cÃ¡o theo lá»›p
- âœ… KhÃ³a Ä‘iá»ƒm cuá»‘i ká»³

### ðŸ‘¨â€ðŸ’¼ Lá»›p TrÆ°á»Ÿng
- âœ… Táº¡o hoáº¡t Ä‘á»™ng ná»™i bá»™ lá»›p
- âœ… Quáº£n lÃ½ Ä‘Äƒng kÃ½ lá»›p
- âœ… Xem Ä‘iá»ƒm toÃ n lá»›p

### ðŸ” Admin
- âœ… Quáº£n lÃ½ ngÆ°á»i dÃ¹ng (CRUD)
- âœ… PhÃ¢n quyá»n vai trÃ²
- âœ… Quáº£n lÃ½ loáº¡i hoáº¡t Ä‘á»™ng
- âœ… Cáº¥u hÃ¬nh há»c ká»³ vÃ  khÃ³a Ä‘iá»ƒm
- âœ… Thá»‘ng kÃª tá»•ng quan há»‡ thá»‘ng

---

## ðŸ” CREDENTIALS

### Database (Docker)
```
Host:     db (internal) / localhost:5432 (external)
Database: Web_QuanLyDiemRenLuyen
User:     admin
Password: hungloveakiha13
```

### Default Accounts
```
Admin:    admin / 123456
Teacher:  gv001 / 123456
Student:  2021001 / 123456
```

**âš ï¸ Äá»”I PASSWORD NGAY SAU KHI DEPLOY!**

---

## ðŸ“¦ DEPLOYMENT OPTIONS

### Option 1: Development (Recommended for testing)

```bash
# Start dev environment
docker compose --profile dev up -d

# Access:
# Frontend: http://localhost:3000
# Backend:  http://localhost:3001
# Prisma Studio: http://localhost:5555
```

### Option 2: Production (One-command)

```bash
# Deploy to production
./scripts/deploy.sh

# Access:
# Frontend: http://localhost:3000
# Backend:  http://localhost:3001
```

### Option 3: Production (EC2/VPS Auto Setup)

```bash
# On EC2 instance, run:
curl -fsSL https://raw.githubusercontent.com/Jiipi/QL_DH_RenLuyen/main/scripts/setup-ec2.sh | bash

# Logout and login again
exit

# Deploy
cd ~/dacn-web/app
./scripts/deploy.sh
```

---

## ðŸ”„ UPDATE & REDEPLOY

```bash
# Pull latest code and redeploy
./scripts/deploy.sh

# Options:
./scripts/deploy.sh --skip-pull      # Skip git pull
./scripts/deploy.sh --skip-build     # Only restart containers
./scripts/deploy.sh --no-cache       # Clean rebuild
```

---

## ðŸ§ª TESTING

### Run Tests

```bash
# Backend tests
cd backend
npm test

# Frontend tests
cd frontend
npm test

# E2E tests (Playwright)
cd frontend
npm run e2e
```

### Reset Database vá»›i Data Máº«u

```bash
# Development
docker exec dacn_backend_dev node scripts/quick_reset_passwords.js

# Production
docker exec student_app_backend_prod node scripts/quick_reset_passwords.js
```

---

## ðŸ’¾ BACKUP & RESTORE

### Backup Database

```bash
# Quick backup
docker exec student_app_db_prod pg_dump -U admin -d Web_QuanLyDiemRenLuyen > backup_$(date +%Y%m%d).sql

# Auto backup (cron job)
./scripts/setup-auto-backup.sh
```

### Restore Database

```bash
# Restore from backup
docker exec -i student_app_db_prod psql -U admin -d Web_QuanLyDiemRenLuyen < backup.sql
```

---

## ðŸ“Š MONITORING

### Health Checks

```bash
curl http://localhost:3001/api/health     # Backend
curl http://localhost:3000/health         # Frontend
docker ps                                 # All containers
```

### View Logs

```bash
# All services
docker compose -f docker-compose.prod.yml logs -f

# Specific service
docker logs -f student_app_backend_prod
```

### Resource Usage

```bash
docker stats
```

---

## ðŸ¤– CI/CD

GitHub Actions tá»± Ä‘á»™ng:
- âœ… Run tests trÃªn má»—i push
- âœ… Build Docker images
- âœ… Security scan (Trivy)
- âœ… Push images lÃªn GitHub Container Registry

**View build status**: [GitHub Actions](https://github.com/Jiipi/QL_DH_RenLuyen/actions)

---

## ðŸ“š DOCUMENTATION

- **[DEPLOYMENT.md](DEPLOYMENT.md)** - Quick deployment guide
- **[MANUAL_SETUP.md](MANUAL_SETUP.md)** - Manual setup checklist
- **[docs/AWS_EC2_DEPLOYMENT_GUIDE.md](docs/AWS_EC2_DEPLOYMENT_GUIDE.md)** - AWS EC2 deployment
- **[docs/DATABASE_SCHEMA.md](docs/DATABASE_SCHEMA.md)** - Database structure
- **[EMERGENCY_FIX.md](EMERGENCY_FIX.md)** - Bug fixes documentation
- **[BACKUP_SUMMARY.md](BACKUP_SUMMARY.md)** - Backup/restore guide

---

## ðŸ› ï¸ TECH STACK

### Frontend
- **React 18** - UI library
- **Material-UI (MUI)** - Component library
- **TailwindCSS** - Utility-first CSS
- **React Router** - Client-side routing
- **Axios** - HTTP client

### Backend
- **Node.js 18** - Runtime environment
- **Express.js** - Web framework
- **Prisma ORM** - Database ORM
- **bcryptjs** - Password hashing
- **jsonwebtoken** - JWT authentication

### Database
- **PostgreSQL 15** - Relational database
- **Prisma Client** - Type-safe database client

### DevOps
- **Docker & Docker Compose** - Containerization
- **GitHub Actions** - CI/CD pipeline
- **Nginx** - Reverse proxy & load balancer
- **Let's Encrypt** - SSL certificates

---

## ðŸ”’ SECURITY

- âœ… JWT Authentication
- âœ… Role-based Access Control (RBAC)
- âœ… Password hashing (bcrypt)
- âœ… SQL Injection protection (Prisma)
- âœ… XSS protection
- âœ… CORS configured
- âœ… Rate limiting
- âœ… Security headers

---

## ðŸ› KNOWN ISSUES & FIXES

See [EMERGENCY_FIX.md](EMERGENCY_FIX.md) for:
- Role permissions bug fix (PostgreSQL JSON array issue)
- Profile caching issue fix

---

## ðŸ¤ CONTRIBUTING

```bash
# Fork repository
# Create feature branch
git checkout -b feature/amazing-feature

# Commit changes
git commit -m "Add amazing feature"

# Push to branch
git push origin feature/amazing-feature

# Open Pull Request
```

---

## ðŸ“„ LICENSE

This project is licensed under the MIT License.

---

## ðŸ‘¥ TEAM

- **Frontend**: React + MUI + TailwindCSS
- **Backend**: Node.js + Express + Prisma
- **DevOps**: Docker + GitHub Actions + AWS EC2
- **Database**: PostgreSQL 15

---

## ðŸ“ž SUPPORT

- **Issues**: [GitHub Issues](https://github.com/Jiipi/QL_DH_RenLuyen/issues)
- **Documentation**: Check `docs/` folder
- **Email**: support@hoatdongrenluyen.io.vn

---

**â­ If you find this project helpful, please star it!**

**Last Updated**: October 31, 2025  
**Version**: 1.0.0  
**Status**: Production Ready âœ…
